<template>
  <main class="page-content">
    <section class="page-hero">
        <div class="container">
            <h1>–î–∞—à–±–æ—Ä–¥</h1>
            <p>–û–±–∑–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Å–µ—Ö –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –∑–∞–¥–∞—á</p>
        </div>
    </section>

    <section class="dashboard-section">
        <div class="container">
            <div class="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-value">5</div>
                    <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">3</div>
                    <div class="stat-label">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">7</div>
                    <div class="stat-label">–î–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">15.06.2025</div>
                    <div class="stat-label">–ë–ª–∏–∂–∞–π—à–∏–π –¥–µ–¥–ª–∞–π–Ω</div>
                </div>
            </div>

            <div class="recent-activities">
                <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon status-done"></div>
                        <div class="activity-content">
                            <h4>–ó–∞–≤–µ—Ä—à–µ–Ω–∞ –∑–∞–¥–∞—á–∞: –ú–æ–Ω—Ç–∞–∂ –∫—Ä–æ–≤–ª–∏</h4>
                            <p>–ü—Ä–æ–µ–∫—Ç: –ñ–ö "–°–æ–ª–Ω–µ—á–Ω—ã–π"</p>
                            <time>–°–µ–≥–æ–¥–Ω—è, 14:30</time>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon status-review"></div>
                        <div class="activity-content">
                            <h4>–ù–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç: –°–º–µ—Ç–∞_v4.pdf</h4>
                            <p>–ü—Ä–æ–µ–∫—Ç: –û—Ñ–∏—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä</p>
                            <time>–í—á–µ—Ä–∞, 16:15</time>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon status-draft"></div>
                        <div class="activity-content">
                            <h4>–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞: –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞</h4>
                            <p>–ü—Ä–æ–µ–∫—Ç: –¢–¶ "–ú–µ–≥–∞"</p>
                            <time>10.04.2025</time>
                        </div>
                    </div>
                </div>
            </div>

            <div class="projects-grid">
                <h2>–í–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã</h2>
                <div class="project-card" @click="openProjectModal(1)">
                    <div class="project-header">
                        <h3>–ñ–ö "–°–æ–ª–Ω–µ—á–Ω—ã–π"</h3>
                        <div class="project-status status-active">–í —Ä–∞–±–æ—Ç–µ</div>
                    </div>
                    <div class="project-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 65%;"></div>
                        </div>
                        <div class="progress-text">65% –∑–∞–≤–µ—Ä—à–µ–Ω–æ</div>
                    </div>
                    <div class="project-meta">
                        <div class="meta-item">
                            <span class="meta-label">–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:</span>
                            <span class="meta-value">–ü–µ—Ç—Ä–æ–≤ –ò.–ê.</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">–°—Ä–æ–∫:</span>
                            <span class="meta-value">15.06.2025</span>
                        </div>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn--outline btn--small" @click.stop>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="btn btn--primary btn--small" @click.stop>–û—Ç–∫—Ä—ã—Ç—å</button>
                    </div>
                </div>

                <div class="project-card" @click="openProjectModal(2)">
                    <div class="project-header">
                        <h3>–û—Ñ–∏—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä –Ω–∞ –õ–µ–Ω–∏–Ω–∞</h3>
                        <div class="project-status status-paused">–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</div>
                    </div>
                    <div class="project-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 30%;"></div>
                        </div>
                        <div class="progress-text">30% –∑–∞–≤–µ—Ä—à–µ–Ω–æ</div>
                    </div>
                    <div class="project-meta">
                        <div class="meta-item">
                            <span class="meta-label">–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:</span>
                            <span class="meta-value">–°–∏–¥–æ—Ä–æ–≤–∞ –ú.–í.</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">–°—Ä–æ–∫:</span>
                            <span class="meta-value">10.05.2025</span>
                        </div>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn--outline btn--small" @click.stop>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="btn btn--primary btn--small" @click.stop>–û—Ç–∫—Ä—ã—Ç—å</button>
                    </div>
                </div>

                <div class="project-card" @click="openProjectModal(3)">
                    <div class="project-header">
                        <h3>–¢–¶ "–ú–µ–≥–∞"</h3>
                        <div class="project-status status-completed">–ó–∞–≤–µ—Ä—à—ë–Ω</div>
                    </div>
                    <div class="project-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 100%;"></div>
                        </div>
                        <div class="progress-text">100% –∑–∞–≤–µ—Ä—à–µ–Ω–æ</div>
                    </div>
                    <div class="project-meta">
                        <div class="meta-item">
                            <span class="meta-label">–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:</span>
                            <span class="meta-value">–ö–æ–∑–ª–æ–≤ –ê.–ù.</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">–°—Ä–æ–∫:</span>
                            <span class="meta-value">05.04.2025</span>
                        </div>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn--outline btn--small" @click.stop>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="btn btn--primary btn--small" @click.stop>–û—Ç–∫—Ä—ã—Ç—å</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ–µ–∫—Ç–∞ -->
    <div class="modal-overlay" v-if="showModal" @click="closeModal">
        <div class="modal-content" @click.stop>
            <div class="modal-header">
                <h3>{{ selectedProjectName }}</h3>
                <button class="modal-close" @click="closeModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ">√ó</button>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h4>–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                    <div class="modal-info">
                        <div class="info-item">
                            <span class="info-label">–°—Ç–∞—Ç—É—Å:</span>
                            <span class="info-value status-active">–í —Ä–∞–±–æ—Ç–µ</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:</span>
                            <span class="info-value">–ü–µ—Ç—Ä–æ–≤ –ò.–ê.</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–°—Ä–æ–∫:</span>
                            <span class="info-value">15.06.2025</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–ë—é–¥–∂–µ—Ç:</span>
                            <span class="info-value">120 –º–ª–Ω —Ä—É–±.</span>
                        </div>
                    </div>
                </div>

                <div class="modal-section">
                    <h4>–ü—Ä–æ–≥—Ä–µ—Å—Å</h4>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 65%;"></div>
                    </div>
                    <div class="progress-text">65% –∑–∞–≤–µ—Ä—à–µ–Ω–æ</div>
                </div>

                <div class="modal-section">
                    <h4>–ó–∞–¥–∞—á–∏</h4>
                    <ul class="task-list">
                        <li class="task-item">
                            <input type="checkbox" checked>
                            <span class="task-text">–ú–æ–Ω—Ç–∞–∂ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞</span>
                            <span class="task-status status-done">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
                        </li>
                        <li class="task-item">
                            <input type="checkbox">
                            <span class="task-text">–ó–∞–ª–∏–≤–∫–∞ –±–µ—Ç–æ–Ω–∞</span>
                            <span class="task-status status-active">–í —Ä–∞–±–æ—Ç–µ</span>
                        </li>
                        <li class="task-item">
                            <input type="checkbox">
                            <span class="task-text">–ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞</span>
                            <span class="task-status status-review">–ù–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏</span>
                        </li>
                    </ul>
                </div>

                <div class="modal-section">
                    <h4>–î–æ–∫—É–º–µ–Ω—Ç—ã</h4>
                    <ul class="doc-list">
                        <li class="doc-item">
                            <span class="doc-icon">üìÑ</span>
                            <span class="doc-name">–°–º–µ—Ç–∞_–ñ–ö_–°–æ–ª–Ω–µ—á–Ω—ã–π_v3.pdf</span>
                            <span class="doc-status status-signed">–ü–æ–¥–ø–∏—Å–∞–Ω</span>
                        </li>
                        <li class="doc-item">
                            <span class="doc-icon">üìÑ</span>
                            <span class="doc-name">–ê–∫—Ç_–ø—Ä–∏–µ–º–∫–∏_–¢–¶_–ú–µ–≥–∞_—ç—Ç–∞–ø1.pdf</span>
                            <span class="doc-status status-draft">–ß–µ—Ä–Ω–æ–≤–∏–∫</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--outline" @click="closeModal">–ó–∞–∫—Ä—ã—Ç—å</button>
                <button class="btn btn--primary">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
            </div>
        </div>
    </div>
  </main>
</template>

<script setup>
import { ref } from 'vue';
import '../assets/styles/dashboard.css';

const showModal = ref(false);
const selectedProjectName = ref('–ñ–ö "–°–æ–ª–Ω–µ—á–Ω—ã–π"');

function openProjectModal(projectId) {
  const projectNames = {
    1: '–ñ–ö "–°–æ–ª–Ω–µ—á–Ω—ã–π"',
    2: '–û—Ñ–∏—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä –Ω–∞ –õ–µ–Ω–∏–Ω–∞',
    3: '–¢–¶ "–ú–µ–≥–∞"'
  };
  selectedProjectName.value = projectNames[projectId] || '–ü—Ä–æ–µ–∫—Ç';
  showModal.value = true;
}

function closeModal() {
  showModal.value = false;
}
</script>

